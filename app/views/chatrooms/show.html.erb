<div class="chat-global" data-controller="modal">

  <div class="nav-top">
    <%= link_to profile_path, class: 'back' do %>
      <div class="location">
        <svg xmlns="http://www.w3.org/2000/svg" class="" fill="none" viewBox="0 0 24 24" stroke="black">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </div>
    <% end %>

    <!-- Trigger/Open The Modal -->
    <div class="utilisateur">
      <p><%= @chatroom.name %></p>
    </div>

  </div>

  <div class="conversation" >
    <div class="chatarea" id="messages" data-chatroom-id="<%= @chatroom.id %>">
      <% @chatroom.messages.each do |message| %>
        <% if message.user == current_user %>
          <%= render 'messages/my_message', message: message %>
        <% else %>
          <%= render 'messages/message', message: message %>
        <% end %>
      <% end %>
    </div>
  </div>
  <%= simple_form_for [ @chatroom, @message ], html: {class: 'chat-form'}, remote: true, id: 'form-message' do |f| %>
    <div class="container-inputs-stuffs" data-bot-target="form">
      <div class="group-inp">
        <%= f.text_field :content, label: false, placeholder: "Enter your message here"%>
        <i class="far fa-grin-beam"></i>
      </div>
      <div class="bot-btn" data-action="click->bot#proposition">
        <svg class="svg-icon" viewBox="0 0 20 20">
          <path d="M17.218,2.268L2.477,8.388C2.13,8.535,2.164,9.05,2.542,9.134L9.33,10.67l1.535,6.787c0.083,0.377,0.602,0.415,0.745,0.065l6.123-14.74C17.866,2.46,17.539,2.134,17.218,2.268 M3.92,8.641l11.772-4.89L9.535,9.909L3.92,8.641z M11.358,16.078l-1.268-5.613l6.157-6.157L11.358,16.078z"></path>
        </svg>
      </div>
      <button class="submit-msg-btn">
        <svg class="svg-icon" viewBox="0 0 20 20">
          <path d="M17.218,2.268L2.477,8.388C2.13,8.535,2.164,9.05,2.542,9.134L9.33,10.67l1.535,6.787c0.083,0.377,0.602,0.415,0.745,0.065l6.123-14.74C17.866,2.46,17.539,2.134,17.218,2.268 M3.92,8.641l11.772-4.89L9.535,9.909L3.92,8.641z M11.358,16.078l-1.268-5.613l6.157-6.157L11.358,16.078z"></path>
        </svg>
      </button>
    </div>
  <% end %>
  <div class="propositions none">
    <div class="proposition"></div>
    <div class="proposition"></div>
    <div class="proposition"></div>
  </div>
</div>
